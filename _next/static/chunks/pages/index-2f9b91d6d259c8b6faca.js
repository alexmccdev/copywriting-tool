(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7991:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(2982),o=n(4942),c=n(885),i=n(323),l=n.n(i),a=n(7294),s=n(3854),u=n(1245),d=(n(6337),n(5893)),f=function(e){return(0,d.jsx)(u.cW,{title:"Pick an emoji",emoji:"point_up",onSelect:function(t){return e.onSelect(t)}})},p=function(e){var t=e.onDelete,n=e.onUpdate,r=e.toggleEmojiMart,o=e.emojiMartVisible,c=e.data,i=(0,a.useState)(c.title),u=i[0],p=i[1],m=(0,a.useState)(c.copy),x=m[0],h=m[1],j=(0,a.useState)(c.countType),v=j[0],b=j[1],w=(0,a.useState)(0),g=w[0],y=w[1],N=(0,a.useState)(0),E=N[0],S=N[1],O=(0,a.useState)(0),k=O[0],C=O[1],_=(0,a.useState)(!1),P=_[0],T=_[1];(0,a.useEffect)((function(){var e,t=new(l());y(0===x.length?0:(null===(e=x.replace(/\s+/g," ").trim().split(" "))||void 0===e?void 0:e.length)||0),S(t.countGraphemes(x.replace(/\s+/g,""))),C(t.countGraphemes(x))}),[x]);return(0,a.useEffect)((function(){n({id:c.id,copy:x,title:u,countType:v})}),[u,x,v]),(0,d.jsxs)("div",{className:"flex flex-col pb-8 border-b md:flex-row",children:[(0,d.jsxs)("div",{className:"flex mb-4 md:w-1/6 md:flex-col md:mb-0",children:[(0,d.jsx)("input",{type:"text",className:"flex-grow p-2 text-xl border-b md:flex-grow-0",placeholder:"Copy title",value:u,onChange:function(e){return p(e.target.value)}}),(0,d.jsxs)("p",{className:"pl-4 pr-2 text-4xl md:pt-4 md:px-2",children:["word"===v&&g,"char"===v&&E,"charSpace"===v&&k]})]}),(0,d.jsx)("textarea",{className:"flex-grow w-full p-2 mb-4 border rounded-sm md:mx-8 md:mb-0",placeholder:"Your copy here...",value:x,onChange:function(e){return h(e.target.value)},spellCheck:!0}),(0,d.jsxs)("div",{className:"flex md:flex-col",children:[(0,d.jsxs)("select",{className:"p-2 border rounded-sm",value:v,onChange:function(e){return b(e.target.value)},children:[(0,d.jsx)("option",{value:"word",children:"Word"}),(0,d.jsx)("option",{value:"charSpace",children:"Characters + spaces"}),(0,d.jsx)("option",{value:"char",children:"Characters - spaces"})]}),(0,d.jsxs)("div",{className:"flex justify-end w-full md:mt-8",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{role:"button","aria-label":"Emoji picker",className:"flex items-center h-full p-2 rounded-full cursor-pointer",onClick:r,children:(0,d.jsx)(s.UUf,{size:"1.5rem"})}),(0,d.jsx)("div",{className:"absolute right-0 z-50 top-12 ".concat(o?"visible":"hidden"),children:(0,d.jsx)(f,{onSelect:function(e){h((function(t){return t+e.native}))}})})]}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsxs)("div",{className:"relative flex h-full p-2 rounded-full cursor-pointer",children:[(0,d.jsx)("span",{role:"button","aria-label":"Copy to clipboard",onClick:function(){navigator.clipboard.writeText(x),T(!0),setTimeout((function(){T(!1)}),1e3)},children:(0,d.jsx)(s.zFu,{size:"1.5rem"})}),(0,d.jsx)("div",{className:"transition-opacity duration-150 ease-out text-xs p-2 absolute flex justify-center rounded-sm top-10 -left-4 -right-3 bg-black dark:bg-white dark:text-black text-gray-200 ".concat(P?"opacity-100":"opacity-0"),children:"Copied!"})]}),(0,d.jsx)("span",{role:"button","aria-label":"Delete item",className:"flex items-center h-full p-2 rounded-full cursor-pointer",onClick:t,children:(0,d.jsx)(s.Bhs,{size:"1.5rem"})})]})]})]})]})},m=function(e){return(0,d.jsx)("footer",{children:(0,d.jsx)("p",{className:"mx-auto",children:"Copyright \xa9 2021"})})},x=function(e){return(0,d.jsx)("header",{className:"flex items-center justify-between w-full h-16 p-8 border-b",children:(0,d.jsx)("h1",{className:"text-xl font-bold",children:"Copycounter"})})},h=n(9008),j=function(e){var t=e.title,n=e.template,r=e.children;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.default,{children:(0,d.jsx)("title",{children:"".concat(t?t+" | ":""," ").concat("Copycounter")})}),(0,d.jsx)(x,{}),(0,d.jsx)("main",{className:n,children:r}),(0,d.jsx)(m,{})]})},v=function(e,t){(0,a.useEffect)((function(){var n=function(n){null!==e&&void 0!==e&&e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t])};var b=function(e,t){var n=function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),r),t}},r=(0,a.useState)(n),o=r[0],c=r[1];return(0,a.useEffect)((function(){c(n())}),[]),(0,a.useEffect)((function(){var e=function(){c(n())};return window.addEventListener("storage",e),window.addEventListener("local-storage",e),function(){window.removeEventListener("storage",e),window.removeEventListener("local-storage",e)}}),[]),[o,function(t){try{var n=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(n)),c(n),window.dispatchEvent(new Event("local-storage"))}catch(r){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),r)}}]};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){var e=b("copy-items",[{id:(new Date).getTime(),title:"",copy:"",countType:"word"}]),t=(0,c.Z)(e,2),n=t[0],o=t[1],i=(0,a.useState)(null),l=i[0],s=i[1],u=(0,a.useRef)(null);return v(u,(function(){return s(null)})),(0,d.jsxs)(j,{title:"Home",template:"one-col",children:[(0,d.jsx)("div",{children:n.map((function(e){return(0,d.jsx)("div",{className:"mt-8 first:mt-0",ref:e.id===l?u:null,children:(0,d.jsx)(p,{onDelete:function(){return o((function(t){return t.filter((function(t){return t!==e}))}))},onUpdate:function(e){return o((function(t){return t.map((function(t){return t.id===e.id?g(g({},t),e):t}))}))},toggleEmojiMart:function(){return s((function(t){return t===e.id?null:e.id}))},emojiMartVisible:e.id===l,data:e})},e.id)}))}),(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)("span",{role:"button",className:"p-2 text-white bg-black rounded-sm cursor-pointer",onClick:function(){return o((function(e){return[].concat((0,r.Z)(e),[{id:(new Date).getTime(),title:"",copy:"",countType:"word"}])}))},children:"+ Add new"})})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7991)}])}},function(e){e.O(0,[774,229,556,20,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);